title: Présentation de YamlDoc
doc:
  intro: |
    YamlDoc
    -------
    YamDoc est un système de gestion documentaire fondé sur :
    
      - l'organisation de documents correspondants à des fichiers texte structurés au **format Yaml**,
      - l'utilisation, quand cela est adapté, pour les champs d'une **sémantique bien connue**
        (DublinCore, Skos, Schema.org, ...), conformément aux principes
        du [Web des données](https://fr.wikipedia.org/wiki/Web_des_donn%C3%A9es),
      - le formattage de textes à l'intérieur du fichier Yaml utilisant le langage **Markdown**,
      - l'utilisation d'un visualisateur de document extensible,
      - un mécanisme de requête simple (ypath) dans les documents,
      - la possibilité d'effectuer des recherches plein texte sur les documents,
      - l'organisation d'espaces documentaires partagés sous la forme d'archive Git,
      - la possibilité de définir des requêtes sur les documents en Php.
    
  yaml: |
    ### Format Yaml
    Le format [Yaml](https://fr.wikipedia.org/wiki/YAML) permet de structurer des documents ou des données
    par combinaison de listes, tableaux associatifs et données scalaires.
    Il a l'avantage d'être très **lisible** pour nous les humains tout en étant facile à comprendre pour les machines.  
    Il permet de structurer aussi bien des documents composés principalement de textes comme le présent document,
    que des bases de données comme par exemple la [base historique des communes](?doc=geohisto/communes)
    ou des structures de graphe comme le [thésaurus EuroVoc](?doc=eurovoc).  
    Enfin, l'édition de documents Yaml est fournie par divers éditeurs de texte comme
    [Notepad++ sous Windows](https://notepad-plus-plus.org/fr/) ou [TextMate sur Mac](https://macromates.com/).
    
  semantic: |
    ### Sémantique bien connue
    Lorsque cela est adapté, la sémantique des champs des tableaux associatifs Yaml respecte les standards suivants:
      
      - le [standard Dublin Core](https://fr.wikipedia.org/wiki/Dublin_Core) est utilisé pour décrire les métadonnées
        d'un document ; ainsi il est recommandé d'utiliser des champs Dublin Core (comme title, subject, description,
        date, ...) pour définir les métadonnées de chaque document ;
      - le [standard SKOS](https://fr.wikipedia.org/wiki/Simple_Knowledge_Organization_System) encodé en Yaml
        est utilisé pour représenter des thésaurus comme le [thésaurus EuroVoc](?doc=eurovoc)
        ou le [lexique topographique](?doc=topovoc) ;
      - enfin le [standard Schema.org](https://fr.wikipedia.org/wiki/Schema.org) est utilisé pour structurer
        des bases de données, telles que par exemple des listes d'organismes en utilisant le
        [type Organization](https://schema.org/Organization).
        
  markdown: |
    ### Markdown
    Le [langage Markdown](https://fr.wikipedia.org/wiki/Markdown) est utilisé pour formatter des textes (titres, gras,
    italique, liste de puces, liens URL, ...).
    A titre d'exemple, chaque partie du présent document est formattée en Markdown.
    
  visualisateur: |
    ### Visualisateur
    Un visualisateur des documents en mode web permet de visualiser les documents et de naviguer entre eux.
    Il offre aussi une fonctionnalité limitée de modification des documents.  
    Un mode de visualisation par défaut est défini mais le visualisateur peut être étendu pour s'adapter aux
    différentes structures de document. Par exemples, l'extension YamlSkos permet de naviguer facilemnt au sein
    d'un thésaurus, et l'extension YamlData permet de visualiser le contenu d'une base de données.  
    Le visualisateur de l'espace public est accessible sous
    [http://georef.eu/yamldoc/?doc=index](http://georef.eu/yamldoc/?doc=index).  
    
  ypath: |
    ### Ypath
    La fourniture d'une chaine de caractères particulière (appelé Ypath), permet de sélectionner
    une partie d'un document ou d'une base de données.
    Les exemples ci-dessous illustrent son utilisation:
      
      - dans le présent document, la sélection du champ *yaml* s'effectue en entrant dans la barre en dessous
        du menu la chaine `/doc/yaml`,
      - il est aussi possible d'afficher ce même champ en suivant
        [l'url `?doc=yamldoc&ypath=/doc/yaml`](?doc=yamldoc&ypath=/doc/yaml),
      - dans un thésaurus comme le [lexique topographique](?doc=topovoc),
        on peut référencer le micro-thésaurus `lexiquecadastre`
        par [la chaine `/schemes/lexiquecadastre`](?doc=topovoc&ypath=/schemes/lexiquecadastre)
        ou le terme `matrice_cadastrale`
        par [la chaine `/concepts/matrice_cadastrale`](?doc=topovoc&ypath=/concepts/matrice_cadastrale),
      - dans la table des départements :
        - la sélection de l'enregistrement ayant pour *name* `Guadeloupe` s'effectue
          par la [chaine `/data/name=Guadeloupe`](?doc=geohisto/departements&ypath=/data/name=Guadeloupe)
        - la sélection des enregistrements ayant pour *insee_code* `04` s'effectue
          par la [chaine `/data/insee_code=04`](?doc=geohisto/departements&ypath=/data/insee_code=04)
        - la projection sur les champs *insee_code*, *name* et *successors* s'effectue par la 
          [chaine `/data/insee_code=04`](?doc=geohisto/departements&ypath=/data/insee_code,name,successors)

  search: |
    ### Recherche plein texte
    en cours
    
  git: |
    ### Organisation d'espaces documentaires partagés sous la forme d'archive Git
    Les documents sont partitionnés en différents espaces documentaires.
    Sur chacun certains utilisateurs ont accès en lecture et/ou en écrture.  
    
    Les documents peuvent être gérés simultanément sur un poste local au moyen d'un éditeur de texte et en mode web.
    Le [logiciel Git](https://fr.wikipedia.org/wiki/Git) est utilisé pour assurer la synchronisation entre les
    différentes copies.
    
    Dans un premier temps, seuls 2 espaces sont définis: un espace public et un espace privé.  
    L'archive Git de l'espace public est accessible à l'URL':
    [https://github.com/benoitdavidfr/yamldocs.git](https://github.com/benoitdavidfr/yamldocs).  
    Le visualisateur de cet espace est accessible sous
    [http://georef.eu/yamldoc/?doc=index](http://georef.eu/yamldoc/?doc=index).  

  query: |
    ### Requêtes en Php
    Les documents correspondant à des bases de données peuvent facilement être exploités par des scripts Php
    qui effectuent des requêtes dans les données.
    Ces requêtes sont appelées comme des documents.  
    Par exemples:
      
      - le document [jregdept](?doc=jregdept) réalise une jointure entre les régions actuelles et les départements
        actuels et renvoie la liste des régions actuelles avec pour chacune la liste de ses départements
        ([consulter le code source Php de la requête](?action=showPhpSrc&amp;doc=jregdept)),
      - il est possible de sélectionner une partie du document jregdept en indiquant un ypath,
        ainsi [ypath=`/data/insee_code=32/depts`](?doc=jregdept&ypath=/data/insee_code=32/depts)
        sélectionne la liste des départements de la région ayant 32 comme insee_code.
      - autre exemple, le document [cregions](?doc=cregions) sélectionne les régions actuelles
        ([consulter le code source Php de la requête](?action=showPhpSrc&amp;doc=cregions)).
