$schema: http://json-schema.org/draft-07/schema#
$id: http://yamldoc.georef.eu/yamldoc.schema.yaml
title: schema de codage d'un champ spatial DublinCore
abstract: |
  Il existe plusieurs codifications des zones géographiques françaises.
  ISO 3166-1 attribue des codes alpha-2 et alpha-3 d'une part à la France et d'autre part aux différents DROM/COM
  sauf Clipperton pour lequel le code alpha-2 (CP) est requis par l'IUT.
  De plus le code FX est réservé pour la France métropolitaine.
  Par ailleurs, l'ISO 3166-2 définit des codes pour les subdivisions.
  
  Une codification des zones géographiques pourrait être la suivante:
    - FR pour désigner la France
    - FX et les codes alpha-2 des DROM/COM pour désigner ces zones
    - les codes ISO 3166-2 sans FR- pour désigner les régions et départements métropolitains
    - les codes INSEE des communes pour désigner les communes
    - concaténation avec un @ et une date sous la forme YYYY ou YYYYMMDD pour définir la date du référentiel
    - pour désigner une partie de la France la concat. de codes séparés par une virgule entre [] pour en faire un array
examples:
  - title: la métropole et les 5 DROM
    spatial:
      http://id.georef.eu/dc-spatial-admin: [FX,GP,GF,MQ,YT,RE]
  - title: la métropole et les 5 DROM + BL, MF, PM
    spatial:
      http://id.georef.eu/dc-spatial-admin: [FX,GP,GF,MQ,YT,RE,BL,MF,PM]
  - title: l'Occitanie
    spatial:
      http://id.georef.eu/dc-spatial-admin: [OCC]
  - title: le Finistère
    spatial:
      http://id.georef.eu/dc-spatial-admin: [29]
  - title: le Finistère + le Morbihan
    spatial:
      http://id.georef.eu/dc-spatial-admin: [29,56]
  - title: Le Havre
    spatial:
      http://id.georef.eu/dc-spatial-admin: [76351]
  - title: Bastia
    spatial:
      http://id.georef.eu/dc-spatial-admin: [2B033]
  - title: la commune de Cherbourg telle que définie au 1/1/2000
    spatial:
      http://id.georef.eu/dc-spatial-admin: [50129@2000]
  - title: Le Havre telle que définie aujourd'hui + Cherbourg telle que définie au 1/1/2000
    spatial:
      http://id.georef.eu/dc-spatial-admin: [76351,50129@2000]
counterexamples:
  - title: une chaine simple est compatible avec l'encodage proposé
    spatial: France
  - title: par contre si l'encodage est annoncé alors il doit être respecté
    spatial:
      http://id.georef.eu/dc-spatial-admin: France
source:
  - https://fr.wikipedia.org/wiki/ISO_3166-1
  - https://fr.wikipedia.org/wiki/ISO_3166-2:FR
doc:
  FR:
    name: France
    alpha3: FRA
    régions:
      ARA: Auvergne-Rhône-Alpes
      BFC: Bourgogne-Franche-Comté
      BRE: Bretagne
      CVL: Centre-Val de Loire
      GES: Grand Est
      HDF: Hauts-de-France
      IDF: Île-de-France
      NOR: Normandie
      NAQ: Nouvelle-Aquitaine
      OCC: Occitanie
      PDL: Pays de la Loire
      PAC: Provence-Alpes-Côte d'Azur
    drom:
      GUA:
        name: Guadeloupe
        codeDept: GP
      GUF:
        name: Guyane
        codeDept: GF
      MTQ:
        name: Martinique
        codeDept: MQ
      LRE:
        name: La Réunion
        codeDept: RE
      MAY:
        name: Mayotte
        codeDept: YT
      
  FX:
    name: France métropolitaine
  GP:
    name: Guadeloupe
    alpha3: GLP
    insee: 971
  GF:
    name: Guyane
    alpha3: GUF
    insee: 973
  MQ:
    name: Martinique
    alpha3: MTQ
    insee: 972
  YT:
    name: Mayotte
    alpha3: MYT
    insee: 976
  RE:
    name: La Réunion
    alpha3: REU
    insee: 974
  PM:
    name: Saint-Pierre-et-Miquelon
    alpha3: SPM
    insee: 975
  BL:
    name: Saint-Barthélémy
    alpha3: BLM
    insee: 977
  MF:
    name: Saint-Martin
    alpha3: MAF
    insee: 978
  TF:
    name: Terres australes et antarctiques françaises
    alpha3: ATF
    insee: 984
  PF:
    name: Polynésie française
    alpha3: PYF
    insee: 987
  WF:
    name: Wallis-et-Futuna
    alpha3: WLF
    insee: 986
  NC:
    name: Nouvelle-Calédonie
    alpha3: NCL
    insee: 988
  CP:
    name: Île Clipperton
    insee: 989
  EU:
    name: Union européenne
type: object
properties:
  title: true
  spatial:
    type: [object,string,number]
    properties:
      http://id.georef.eu/dc-spatial-admin:
        type: array
        items:
          type: [string,number]
