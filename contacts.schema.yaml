title: schema d'une base de contacts
$id: http://id.georef.eu/contacts.schema
$schema: http://json-schema.org/draft-07/schema#
definitions:
  contactList:
    description: liste de contacts éventuellement organisée en catégories
    oneOf:
      - description: liste de contacts
        type: array
        items:
          $ref: '#/definitions/Person'
      - description: organisation en catégories
        type: object
        additionalProperties:
          $ref: '#/definitions/contactList'
      - description: cas d'une catégorie vide
        type: 'null'
  Person:
    description: structuration d'une personne selon http://schema.org/Person
    type: object
    required: [name]
    properties:
      name: { type: string }
      identifier: { type: string }
      givenName: { type: string }
      telephone: { type: [number, string] }
      email:
        description: adresses(s) électronique(s)
        oneOf:
          - {type: string}
          - {type: array, items: {type: string}}
      address:
        oneOf:
          - description: structuration d'une adresse selon http://schema.org/PostalAddress
            $ref: '#/definitions/PostalAddress'
          - description: référence vers une adresse par exemple dans le registre des organisations
            type: string
      birthDate: { type: string }
      weddingDate:
        description: date de marriage, hors http://schema.org/
        type: string
      deathDate: { type: string }
      worksFor:
        description: Organizations that the person works for. IRI d'une organisation dans http://id.georef.eu/organizations/
        type: string
        pattern: '^http://id.georef.eu/organizations/'
      affiliation:
        description: |
          An organization that this person is affiliated with.
          Utilisé pour une adhésion à une association.
        oneOf:
          - { description: "URI d'une organisation", type: string }
          - $ref: '#/definitions/Organization'
      hasOccupation:
        description: |
          The Person's occupation. For past professions, use Role for expressing dates.
          Champ utilisé pour les professions libérales (médecin, ...), les anciens stagiaires, paticipation à un projet, ...
        oneOf:
          - type: string
          - type: array
            items:
              type: string
      spouse:
        $ref: '#/definitions/Person'
      children:
        type: array
        items:
          $ref: '#/definitions/Person'
      employs:
        description: liste d'employés, hors schema.org
        type: array
        items:
          $ref: '#/definitions/Person'
      knows:
        description: nom d'une personne, permet de me souvenir des liens
        type: string
      jobTitle: { type: string }
      brand:
        description: >
          The brand(s) associated with a product or service, or the brand(s) maintained by an organization or business person.
        $ref: '#/definitions/Brand'
      url:
        description: utilisé notamment pour l'URI LinkedIn
      note: { description: "info qqc, hors schema.org", type: string }
      modified: { description: "date de mise à jour de la fiche, hors schema.org", type: string }
    additionalProperties: false
  PostalAddress:
    description: structuration d'une adresse selon http://schema.org/PostalAddress
    type: object
    properties:
      streetAddress:
        description: The street address. For example, 1600 Amphitheatre Pkwy.
        type: string
      addressLocality:
        description: The locality in which the street address is, and which is in the region. For example, Mountain View.
        type: string
      postalCode:
        description: The postal code. For example, 94043.
        type: [number, string]
      adressCountry:
        description: The country. For example, USA. You can also provide the two-letter ISO 3166-1 alpha-2 country code.
        type: string
      note: { description: "info qqc, hors schema.org", type: string }
    additionalProperties: false
  Organization:
    description: An organization such as a school, NGO, corporation, club, etc. (https://schema.org/Organization)
    type: object
    properties:
      name:
        type: string
      sameAs:
        description: URL
        type: string
  Brand:
    description: A brand is a name used by an organization or business person for labeling a product, product group, or similar.
    type: object
    required: [name]
    properties:
      name:
        type: string
type: object
properties:
  title:
    type: string
  authorizedReaders:
    description: liste des lecteurs YamlDoc autorisés
    type: array
    items:
      type: string
  abstract:
    type: string
  modified:
    type: string
  $schema:
    oneOf:
      - $ref: http://json-schema.org/draft-07/schema#
      - type: string
additionalProperties:
  $ref: '#/definitions/contactList'
